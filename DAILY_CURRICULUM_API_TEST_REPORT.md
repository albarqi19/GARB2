# ุชูุฑูุฑ ุงุฎุชุจุงุฑ ุดุงูู ูู APIs ุงููููุฌ ุงููููู

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅูุดุงุก ุฃูุฑ ุงุฎุชุจุงุฑ ุดุงูู ูููุตู ููุญุต APIs ุงููููุฌ ุงููููู ูู ุงููุธุงู. ุงูุฃูุฑ ูููู ุจูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ุงูุทูุงุจุ ุงูููุงูุฌุ ูุงุฎุชุจุงุฑ ุฌููุน APIs ุฐุงุช ุงูุตูุฉ.

## ุงูุฃูุฑ ุงููููุดุฃ
```bash
php artisan test:daily-curriculum-apis [--student-id=ID] [--create-data] [-v|--verbose]
```

### ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ:
- `--student-id=ID`: ูุนุฑู ุงูุทุงูุจ ููุงุฎุชุจุงุฑ (ุงูุชุฑุงุถู: 14)
- `--create-data`: ุฅูุดุงุก ุจูุงูุงุช ุชุฌุฑูุจูุฉ ููุงุฎุชุจุงุฑ
- `-v|--verbose`: ุนุฑุถ ุชูุงุตูู ููุตูุฉ ููุงุณุชุฌุงุจุงุช

## ูุชุงุฆุฌ ุงูุงุฎุชุจุงุฑ

### โ APIs ุงูุชู ุชุนูู ุจูุฌุงุญ:

#### 1. API ุงููููุฌ ุงููููู
```
GET /api/students/{id}/daily-curriculum
```

**ุงูุทูุงุจ ุงูุฐูู ูุนูููู:**
- **ุงูุทุงูุจ ID: 1** (ุฃุญูุฏ ุนูู ุงูุจุงุฑูู)
- **ุงูุทุงูุจ ID: 17** (ุฃุญูุฏ ููุณู ุฃุญูุฏ ุงูุฒูุฑุงูู)

**ูุซุงู ุนูู ุงูุงุณุชุฌุงุจุฉ ุงููุงุฌุญุฉ:**
```json
{
    "success": true,
    "data": {
        "student": {
            "name": "ุฃุญูุฏ ุนูู ุงูุจุงุฑูู",
            "mosque": "ุฌุงูุน ูููุฉ ุงูุญุฑุจู"
        },
        "current_curriculum": {
            "name": "ุฌุฏูุฏ",
            "level": "ุงูุงูู", 
            "completion_percentage": 0
        },
        "daily_curriculum": {
            "memorization": {
                "id": 6,
                "type": "ุงูุฏุฑุณ",
                "content": "ุณูุฑุฉ ุงููุงุชุญุฉ - ูู ุงูุขูุฉ 1 ุฅูู ุงูุขูุฉ 7 (7 ุขูุงุช)",
                "expected_days": 4
            },
            "minor_review": null,
            "major_review": null
        },
        "today_recitations": {
            "memorization": null,
            "minor_review": null,
            "major_review": null
        }
    }
}
```

#### 2. API ุฌูุณุงุช ุงูุชุณููุน
```
GET /api/students/{id}/recitation-sessions
```
- **ุงูุญุงูุฉ**: โ ูุนูู ุจูุฌุงุญ
- **ููุฏ ุงูุงุณุชุฌุงุจุฉ**: 200

### โ APIs ุงูุชู ุชุญุชุงุฌ ุฅุตูุงุญ:

#### 1. API ุงููุญุชูู ุงูุชุงูู
```
GET /api/recitation/sessions/next-content/{studentId}
```
- **ุงููุดููุฉ**: ุฎุทุฃ 404 ุฃู 500
- **ุงูุณุจุจ**: ูุดููุฉ ูู service dependencies
- **ุงูุญุงูุฉ**: ูุญุชุงุฌ ุฅุตูุงุญ

#### 2. API ูููุฌ ุงูุทุงูุจ
```
GET /api/students/{id}/curriculum
```
- **ุงููุดููุฉ**: ุฎุทุฃ 500
- **ุงูุญุงูุฉ**: ูุญุชุงุฌ ุฅุตูุงุญ

#### 3. API ุฅุญุตุงุฆูุงุช ุงูุทุงูุจ
```
GET /api/students/{id}/stats
```
- **ุงููุดููุฉ**: ุฎุทุฃ 500
- **ุงูุญุงูุฉ**: ูุญุชุงุฌ ุฅุตูุงุญ

## ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช

### โ ุงูุฌุฏุงูู ุงูููุฌูุฏุฉ ูุงูุนุงููุฉ:
- **students**: 14 ุณุฌู
- **curricula**: 3 ููุงูุฌ
- **student_curricula**: 4 ุนูุงูุงุช
- **curriculum_plans**: 6 ุฎุทุท
- **student_curriculum_progress**: 4 ุณุฌูุงุช ุชูุฏู
- **recitation_sessions**: 159 ุฌูุณุฉ ุชุณููุน

### ๐ ุฅุญุตุงุฆูุงุช ุงููุฌุงุญ:
- **APIs ูุงุฌุญุฉ**: 2 ูู 5 (40%)
- **APIs ุชุญุชุงุฌ ุฅุตูุงุญ**: 3 ูู 5 (60%)
- **ูุงุนุฏุฉ ุงูุจูุงูุงุช**: โ ุณูููุฉ ูููุชููุฉ

## ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู ุงููุงุฌุญุฉ

### 1. PowerShell/CMD:
```powershell
# ุงุฎุชุจุงุฑ ุดุงูู ููุทุงูุจ ID: 1
php artisan test:daily-curriculum-apis --student-id=1

# ุงุฎุชุจุงุฑ ูุน ุชูุงุตูู ููุตูุฉ
php artisan test:daily-curriculum-apis --student-id=1 -v

# ุฅูุดุงุก ุจูุงูุงุช ุชุฌุฑูุจูุฉ
php artisan test:daily-curriculum-apis --student-id=1 --create-data
```

### 2. HTTP API ูุจุงุดุฑุฉ:
```powershell
# ุงุฎุชุจุงุฑ API ุงููููุฌ ุงููููู
Invoke-RestMethod -Uri "http://localhost:8000/api/students/1/daily-curriculum" -Method GET -Headers @{"Accept"="application/json"}

# ุงุฎุชุจุงุฑ ููุทุงูุจ ุขุฎุฑ
Invoke-RestMethod -Uri "http://localhost:8000/api/students/17/daily-curriculum" -Method GET -Headers @{"Accept"="application/json"}
```

### 3. cURL (ุฅุฐุง ูุชุงุญ):
```bash
curl -X GET "http://localhost:8000/api/students/1/daily-curriculum" \
  -H "Accept: application/json"
```

## ุงูุทูุงุจ ุงููุชุงุญูู ููุงุฎุชุจุงุฑ

| ID | ุงูุงุณู | ุงููุณุฌุฏ | ุงูุญุงูุฉ |
|----|-------|---------|---------|
| 1 | ุฃุญูุฏ ุนูู ุงูุจุงุฑูู | ุฌุงูุน ูููุฉ ุงูุญุฑุจู | โ ูุนูู |
| 2 | ุฎุงูุฏ ุญุณู | - | ุบูุฑ ูุฎุชุจุฑ |
| 3 | ุณุนุฏูู | - | ุบูุฑ ูุฎุชุจุฑ |
| 10 | ุฃุญูุฏ ูุญูุฏ ุงูุชุฌุฑูุจู | - | ุบูุฑ ูุฎุชุจุฑ |
| 11 | ุงูุทุงูุจ ุงูุชุฌุฑูุจู ุงูููุตุญุญ | - | ุบูุฑ ูุฎุชุจุฑ |
| 12 | ุญุณูู | - | ุบูุฑ ูุฎุชุจุฑ |
| 13 | ุฎุงูุฏ | - | ุบูุฑ ูุฎุชุจุฑ |
| 17 | ุฃุญูุฏ ููุณู ุฃุญูุฏ ุงูุฒูุฑุงูู | ูุณุฌุฏ ูุฒูุฉ ุจูุช ุณูููุงู ุงูุณุฏูุฑู | โ ูุนูู |
| 18 | ุฅููุงุณ ุนูุฑ ุนุจุฏุงููู ุงููุญููุฏู | - | ุบูุฑ ูุฎุชุจุฑ |
| 19 | ุงุญูุฏ ูุญูุฏ ุณุนูุฏ ุงูุฒูุฑุงูู | - | ุบูุฑ ูุฎุชุจุฑ |

## ุงููุดุงูู ุงูููุชุดูุฉ ูุงูุญููู

### 1. ุงูุทุงูุจ ID: 14 ุบูุฑ ููุฌูุฏ
- **ุงููุดููุฉ**: ูุง ููุฌุฏ ุทุงูุจ ุจู ID: 14 ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุงูุญู**: ุงุณุชุฎุฏุงู ุทุงูุจ ููุฌูุฏ ูุซู ID: 1 ุฃู 17

### 2. ูุดููุฉ ูู constructor ููู RecitationSessionController
- **ุงููุดููุฉ**: ูุชุทูุจ 3 service dependencies
- **ุงูุญู ุงููุทุจู**: ุงุณุชุฎุฏุงู `app(RecitationSessionController::class)` ุจุฏูุงู ูู `new`

### 3. ูุดููุฉ ูู plan_type enum
- **ุงููุดููุฉ**: ููู ุฎุงุทุฆุฉ ูู ุฌุฏูู curriculum_plans
- **ุงูุญู**: ุชุญุฏูุซ ุงูููู ุงููุณููุญุฉ ูู enum

## ุงูุชูุตูุงุช

### ุงูุฃููููุฉ ุงูุนุงููุฉ:
1. **ุฅุตูุงุญ API ุงููุญุชูู ุงูุชุงูู** - ูุทููุจ ููุญุตูู ุนูู ูููุฌ ุงูุบุฏ
2. **ุฅุตูุงุญ API ูููุฌ ุงูุทุงูุจ** - ุฃุณุงุณู ูุนุฑุถ ุงููููุฌ ุงููุงูู
3. **ุฅุตูุงุญ API ุฅุญุตุงุฆูุงุช ุงูุทุงูุจ** - ููู ูุชุชุจุน ุงูุฃุฏุงุก

### ุงูุฃููููุฉ ุงููุชูุณุทุฉ:
4. **ุชุญุฏูุซ enum values** ูู ุฌุฏูู curriculum_plans
5. **ุฅูุดุงุก ุทุงูุจ ุจู ID: 14** ุฃู ุชุญุฏูุซ ุงูุงุฎุชุจุงุฑุงุช ูุชุณุชุฎุฏู IDs ููุฌูุฏุฉ

### ูููุทูุฑูู:
- ุงุณุชุฎุฏู ุงูุฃูุฑ `php artisan test:daily-curriculum-apis` ูุงุฎุชุจุงุฑ ุฃู ุชุบููุฑุงุช
- ุงุณุชุฎุฏู `-v` ููุญุตูู ุนูู ุชูุงุตูู ููุตูุฉ ููุชุทููุฑ
- ุงุณุชุฎุฏู `--create-data` ูุฅูุดุงุก ุจูุงูุงุช ุชุฌุฑูุจูุฉ

## ุงูุฎูุงุตุฉ ุงูููุงุฆูุฉ

โ **API ุงููููุฌ ุงููููู ูุนูู ุจูุฌุงุญ** ููุทูุงุจ ุงูุฐูู ูุฏููู ููุงูุฌ ููุนููุฉ

**ูุง ููููู ุงูุญุตูู ุนููู ุงูุขู:**
- ูููุฌ ุงูููู (ุงูุญูุธ ุงูุฌุฏูุฏ)
- ุญุงูุฉ ุงูุชุณููุน (ุชู/ูู ูุชู)
- ูุนูููุงุช ุงูุทุงูุจ ูุงููุณุฌุฏ
- ูุณุจุฉ ุฅูุฌุงุฒ ุงููููุฌ

**ูุง ูุญุชุงุฌ ุฅุตูุงุญ:**
- ุงููุญุชูู ุงูููุฑุฑ ุบุฏุงู (API ุงููุญุชูู ุงูุชุงูู)  
- ุงููููุฌ ุงููุงูู ููุทุงูุจ
- ุงูุฅุญุตุงุฆูุงุช ุงูููุตูุฉ

**ุงูุงุณุชุฎุฏุงู ุงูุญุงูู:**
```powershell
# ููุญุตูู ุนูู ูููุฌ ุงูููู
Invoke-RestMethod -Uri "http://localhost:8000/api/students/1/daily-curriculum" -Method GET -Headers @{"Accept"="application/json"}
```

---

*ุชู ุฅูุดุงุก ูุฐุง ุงูุชูุฑูุฑ ูู: 13 ููููู 2025*
*ุงูุฃูุฑ ุงูููุณุชุฎุฏู: `php artisan test:daily-curriculum-apis`*
